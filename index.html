<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>Calcul DTF Textiles & UV – Printedesign</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
body{
  margin:0;
  padding:10px;
  font-family:Arial, sans-serif;
  background:#1e1e1e;
  color:#fff;
}
.container{
  max-width:520px;
  margin:auto;
  background:#0f2745;
  padding:15px;
  border-radius:8px;
}
h1{
  text-align:center;
  font-size:18px;
  margin-bottom:15px;
}
.section{
  background:#f2f2f2;
  color:#000;
  padding:10px;
  border-radius:6px;
  margin-bottom:10px;
}
label{
  font-size:12px;
  margin-bottom:3px;
}
input,select{
  width:100%;
  padding:6px;
  margin-bottom:6px;
  font-size:13px;
}
.side{
  border-top:1px solid #ccc;
  padding-top:6px;
  margin-top:6px;
}
.results{
  background:#eaeaea;
  padding:10px;
  border-radius:6px;
}
.line{
  display:flex;
  justify-content:space-between;
  font-size:13px;
  margin-bottom:4px;
}
.total{
  background:#5b2c83;
  color:#fff;
  padding:8px;
  border-radius:6px;
  font-size:15px;
  display:flex;
  justify-content:space-between;
}
.footer{
  margin-top:8px;
  font-size:10px;
  color:#ccc;
  text-align:center;
}
</style>
</head>

<body>
<div class="container">
<h1>CALCUL DTF TEXTILES ET UV</h1>

<div class="section">
<label>Type de marquage</label>
<select id="mode">
  <option value="textile">DTF Textile</option>
  <option value="uv">DTF UV</option>
</select>

<label>Type de produit</label>
<select id="garment">
  <option value="tshirt6">T-shirt (6.–)</option>
  <option value="tshirt8">T-shirt Premium (8.–)</option>
  <option value="polo">Polo (12.–)</option>
  <option value="pull">Pull (14.–)</option>
  <option value="jacket">Jaquette capuche zip (16.–)</option>
  <option value="flocseul">Flocage seul</option>
</select>

<label>Quantité</label>
<input type="number" id="qty" value="1" min="1">
</div>

<!-- CÔTÉS TEXTILE -->
<div class="section" id="textileSides">
<div class="side">
<strong>FACE</strong>
<input type="checkbox" id="facePose" checked> Pose (+5.–)
<input type="number" id="faceW" placeholder="Largeur cm">
<input type="number" id="faceH" placeholder="Hauteur cm">
</div>

<div class="side">
<strong>DOS</strong>
<input type="checkbox" id="backPose"> Pose (+5.–)
<input type="number" id="backW" placeholder="Largeur cm">
<input type="number" id="backH" placeholder="Hauteur cm">
</div>

<div class="side">
<strong>ÉPAULE DROITE</strong>
<input type="checkbox" id="rightPose"> Pose (+5.–)
<input type="number" id="rightW" placeholder="Largeur cm">
<input type="number" id="rightH" placeholder="Hauteur cm">
</div>

<div class="side">
<strong>ÉPAULE GAUCHE</strong>
<input type="checkbox" id="leftPose"> Pose (+5.–)
<input type="number" id="leftW" placeholder="Largeur cm">
<input type="number" id="leftH" placeholder="Hauteur cm">
</div>
</div>

<!-- DTF UV -->
<div class="section" id="uvSection" style="display:none">
<label>Largeur (cm)</label>
<input type="number" id="uvW">
<label>Hauteur (cm)</label>
<input type="number" id="uvH">
</div>

<div class="results">
<div class="line"><span>Prix unitaire</span><span id="unit">0.00</span></div>
<div class="line"><span>Total commande</span><span id="total">0.00</span></div>
<div class="total"><span>TOTAL CHF</span><span id="grand">0.00</span></div>
</div>

<div class="footer">
Outil de calcul développé par Printedesign – usage commercial
</div>
</div>

<script>
const garmentPrices={
  tshirt6:6,
  tshirt8:8,
  polo:12,
  pull:14,
  jacket:16,
  flocseul:0
};

const DTF_TEXTILE_CM2=0.025;
const DTF_UV_CM2_CLIENT=0.05;

function calc(){
  const mode=document.getElementById("mode").value;
  const qty=parseInt(document.getElementById("qty").value)||1;
  let base=garmentPrices[document.getElementById("garment").value]||0;
  let dtf=0,pose=0;

  if(mode==="textile"){
    const sides=[
      ["face","facePose"],
      ["back","backPose"],
      ["right","rightPose"],
      ["left","leftPose"]
    ];
    sides.forEach(s=>{
      let w=parseFloat(document.getElementById(s[0]+"W").value)||0;
      let h=parseFloat(document.getElementById(s[0]+"H").value)||0;
      if(w>0&&h>0) dtf+=w*h*DTF_TEXTILE_CM2;
      if(document.getElementById(s[1]).checked && w>0 && h>0) pose+=5;
    });
  } else {
    let w=parseFloat(document.getElementById("uvW").value)||0;
    let h=parseFloat(document.getElementById("uvH").value)||0;
    dtf=w*h*DTF_UV_CM2_CLIENT;
  }

  let unit=base+dtf+pose;
  let total=unit*qty;

  document.getElementById("unit").innerText=unit.toFixed(2);
  document.getElementById("total").innerText=total.toFixed(2);
  document.getElementById("grand").innerText=total.toFixed(2);
}

document.querySelectorAll("input,select").forEach(e=>{
  e.addEventListener("input",calc);
  e.addEventListener("change",calc);
});

document.getElementById("mode").addEventListener("change",()=>{
  const uv=document.getElementById("uvSection");
  const tx=document.getElementById("textileSides");
  if(document.getElementById("mode").value==="uv"){
    uv.style.display="block"; tx.style.display="none";
  } else {
    uv.style.display="none"; tx.style.display="block";
  }
  calc();
});

calc();
</script>
</body>
</html>