<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>CALCUL DTF TEXTILES ET UV – Printedesign</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
body{font-family:Arial;background:#111;color:#fff;margin:0;padding:10px}
.container{max-width:900px;margin:auto;background:#1f1f1f;padding:15px;border-radius:8px}
h1{text-align:center;font-size:18px}
.section{background:#eee;color:#000;padding:10px;border-radius:6px;margin-bottom:10px}
label{font-size:13px}
input,select{width:100%;padding:6px;margin-bottom:6px}
.row{display:flex;gap:10px;flex-wrap:wrap}
.col{flex:1;min-width:150px}
.result{background:#222;color:#fff;padding:10px;border-radius:6px}
.total{font-size:18px;font-weight:bold;color:#b6ff8a}
.footer{text-align:center;font-size:11px;color:#aaa;margin-top:10px}
.radio{display:flex;gap:15px}
</style>
</head>

<body>
<div class="container">
<h1>CALCUL DTF TEXTILES ET UV</h1>

<div class="section">
<label>Type de marquage</label>
<select id="mode">
<option value="textile">DTF TEXTILE</option>
<option value="uv">DTF UV</option>
</select>

<label>Type de vêtement</label>
<select id="garment">
<option value="0">Flocage seul</option>
<option value="6">T-shirt</option>
<option value="8">T-shirt Premium</option>
<option value="12">Polo</option>
<option value="14">Pull</option>
<option value="16">Jaquette polaire</option>
<option value="16">Jaquette capuche zip</option>
</select>

<label>Quantité</label>
<input type="number" id="qty" value="1" min="1">

<label>Pose</label>
<div class="radio">
<label><input type="radio" name="pose" value="on" checked> Avec pose</label>
<label><input type="radio" name="pose" value="off"> Sans pose</label>
</div>
</div>

<div class="section">
<h3>Surfaces (cm)</h3>
<div class="row">
<div class="col"><label>Face (L×H)</label><input id="fL" value="12"><input id="fH" value="5"></div>
<div class="col"><label>Dos (L×H)</label><input id="dL" value="0"><input id="dH" value="0"></div>
<div class="col"><label>Épaule G (L×H)</label><input id="gL" value="0"><input id="gH" value="0"></div>
<div class="col"><label>Épaule D (L×H)</label><input id="rL" value="0"><input id="rH" value="0"></div>
</div>
</div>

<div class="result">
<div>Prix unitaire : <span id="unit">0.00</span> CHF</div>
<div>Total commande : <span class="total" id="total">0.00</span> CHF</div>
</div>

<div class="footer">
Programme de calcul développé par Printedesign<br>
Outil interne d’estimation – tarifs indicatifs
</div>
</div>

<script>
function remise(q){
if(q>=101)return 0.30;
if(q>=81)return 0.25;
if(q>=51)return 0.20;
if(q>=41)return 0.15;
if(q>=31)return 0.10;
if(q>=21)return 0.08;
if(q>=11)return 0.05;
return 0;
}

function calc(){
let mode=document.getElementById("mode").value;
let garment=parseFloat(document.getElementById("garment").value);
let q=parseInt(document.getElementById("qty").value)||1;

let areas=[
fL.value*fH.value,
dL.value*dH.value,
gL.value*gH.value,
rL.value*rH.value
];

let activeSides=areas.filter(a=>a>0).length;
let surface=areas.reduce((a,b)=>a+b,0);

let priceCm2= mode==="textile"?0.025:0.05;
let impression=surface*priceCm2;

let pose=document.querySelector('input[name="pose"]:checked').value==="on"
? activeSides*5 : 0;

let unit=garment+impression+pose;
unit=unit*(1-remise(q));

document.getElementById("unit").innerText=unit.toFixed(2);
document.getElementById("total").innerText=(unit*q).toFixed(2);
}

document.querySelectorAll("input,select").forEach(e=>e.addEventListener("input",calc));
calc();
</script>
</body>
</html>